import{B as c,C as l}from"./index-Ej9kf163.js";import{a as e}from"./axios-G2rPRu76.js";import{S as d}from"./sweetalert2.all-t36qbmOe.js";var _={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_API_NAME:"ssozr",BASE_URL:"/vue2024week62/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:r,VITE_APP_API_NAME:o}=_,P=c("cart",{state:()=>({carts:[],total:0,final_total:0,goCart:!1}),actions:{getCartDataPinia(){e.get(`${r}/v2/api/${o}/cart`).then(a=>{this.carts=a.data.data.carts,this.total=a.data.data.total,this.final_total=a.data.data.final_total}).catch(a=>{alert(a.data.message).error(a)})},addCart(a,s){console.log(a);const i={product_id:a.id,qty:s};e.post(`${r}/v2/api/${o}/cart`,{data:i}).then(t=>{this.goCart===!1?(d.fire(`${t.data.message}`),this.getCartDataPinia()):(this.goCart=!1,this.getCartDataPinia(),l.push("/cart"))}).catch(t=>{alert(t.data.message).error(t)})},changeGoCart(a){this.goCart=!0,this.addCart(a,1)}}});export{P as c};
